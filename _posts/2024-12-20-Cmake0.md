---
title: CMake 
date: 2024-12-20 8:30:00 +0700;
categories: [Development Tools, CMake]
tags: [build-system]     # TAG names should always be lowercase
---

---
CMake is an open-source, cross-platform tool designed to manage the build process of software projects. Unlike traditional makefiles, CMake allows developers to create platform-independent build configurations that can generate native build files for various systems, such as Make, Ninja, Visual Studio, and more.  
If you're new to build systems, you might wonder why CMake is worth learning. Here are some of its standout features:  
- Portability: Write your build scripts once, and CMake takes care of adapting them to different platforms and compilers.  
- Flexibility: Support for complex build scenarios, custom build targets, and integration with other tools.  
- Ease of Use: With a simple syntax and powerful commands, you can configure builds for projects of any size.  
In this post, I'll share what I've learned about CMakeâ€”starting with the basics of setting up a project, writing a CMakeLists.txt file, and understanding how to use CMake commands effectively. 
<h3 id="Introduction" style="font-weight: bold;">Introduction</h3>
Letâ€™s dive in and demystify CMake together!
Before diving into CMake, letâ€™s briefly talk about **build systems**.

When you write code in C or C++, the compiler (like `gcc` or `clang`) needs to know:

- Which files to compile  
- What flags to use  
- How to link libraries  
- Where to put the output

Manually writing all this for each file and configuration is inefficient. Thatâ€™s where **build systems** come in.

Some popular build systems:

- **Make**: One of the oldest and most common tools (`Makefile`)
- **Ninja**: A small, fast build system focused on performance
- **CMake**: A meta build system â€” it generates build files for tools like Make or Ninja

CMake doesn't build your code directly. Instead, it generates build scripts that can be used by `make`, `ninja`, or other IDE.

<h3 id="Installation" style="font-weight: bold;">Installation</h3>

CMake is available in most Linux distributions via package managers.  
To install CMake on Ubuntu or Debian-based systems:

```bash
sudo apt update
sudo apt install 
```
To verify the installation:

```bash
cmake --version
```

You should see output like:

```
cmake version 3.25.1
```

If you need a newer version than what your package manager provides, you can:

1. **Download from the official site**: [https://cmake.org/download](https://cmake.org/download)  
2. **Build from source**  
3. **Use Snap** or `pip` for alternate installs

Since CMake can generate build files for multiple tools, you may want to install Ninja and Make.

### Install Ninja:

```bash
sudo apt install ninja-build
```

Check version:

```bash
ninja --version
```

### Install Make:

```bash
sudo apt install build-essential
```

This will also install compilers like `gcc` and tools required to compile C/C++ code.

Hereâ€™s a minimal CMake project layout:

```
my_project/
â”œâ”€â”€ CMakeLists.txt
â””â”€â”€ main.cpp
```

Example `main.cpp`:

```cpp
#include <iostream>

int main() {
    std::cout << "Hello, CMake!" << std::endl;
    return 0;
}
```

Basic `CMakeLists.txt`:

```cmake
cmake_minimum_required(VERSION 3.10)
project(MyProject)

add_executable(main main.cpp)
```

---

## ðŸ§ª Build with CMake and Make

Navigate to your project directory and build it:

```bash
mkdir build
cd build
cmake ..
make
```

The `make` command will compile your code using the Makefiles generated by CMake.

To run:

```bash
./main
```

---

## ðŸŽ¯ Coming Up Next

Now that you've installed CMake and seen how it works at a basic level, in the next post we'll look into:

- How `CMakeLists.txt` works
- Using variables and conditions
- Linking libraries
- Generating builds with Ninja or Makefile    

Stay tuned and happy building! ðŸ› ï¸

